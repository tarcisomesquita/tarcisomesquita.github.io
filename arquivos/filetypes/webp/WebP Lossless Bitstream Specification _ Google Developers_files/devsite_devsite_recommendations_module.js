(function(_ds){var window=this;'use strict';var oaa=function(a,b){return _ds.ze(a,3,b)},paa=function(a,b){return _ds.ze(a,4,b)},qaa=function(a,b){return _ds.Be(a,5,b,0)},raa=function(a){return _ds.P(this,function c(){return _ds.G(c,function(d){return d.return((0,_ds.kL)(a,"/significatio/recommendations"))})})},saa=function(a){var b=a.Xq,c=a.pk,d=a.jq;a='<h2 class="significatio-heading no-link">'+_ds.gE(a.Kk)+"</h2>";""!=b?(a=a+'<div class="info-container"><button type="button" class="button-flat info-button significatio-info-container" id="significatio-info-button" aria-label="'+
_ds.qE("About recommendations"),a=a+'" data-title="'+_ds.qE("About recommendations"),a+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button></div>'):(a=a+'<div class="significatio-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-info-container" id="significatio-popout-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+
_ds.qE("About recommendations"),a=a+'" data-title="'+_ds.qE("About recommendations"),a+='"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-icon-info"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/></svg></button><div class="significatio-popout" id="significatio-popout" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">About these recommendations</h4><p>These recommendations help you find the content you are looking for. They may be based on the page you\u2019re currently viewing and your account\u2019s saved <a href="https://myactivity.google.com/activitycontrols/webandapp" class="significatio-popout-interactive">web and app activity</a>.</p><a href="http://go/devsite-recommendations" class="significatio-popout-interactive">Learn More</a></div></div>');
a+='<div class="significatio-buttons">';d&&(a+='<p class="significatio-internal-only">Internal only</p>');""!=c&&(a=a+'<button type="button" class="significatio-issue-button button-flat" id="significatio-issue-button" aria-label="'+_ds.qE("Report low quality recommendations"),a=a+'" data-title="'+_ds.qE("Report low quality recommendations"),a+='"><span class="material-icons" aria-hidden="true">bug_report</span></button>');return(0,_ds.U)(a+"</div>")},taa=function(){return(0,_ds.U)('<div class="significatio-overview"></div><div class="significatio-body"><div class="significatio-recommendations"></div><div class="significatio-loading"><devsite-spinner size="64"></devsite-spinner></div></div>')},
vaa=function(a){a=a.bb;for(var b="",c=a.length,d=0;d<c;d++)b+=uaa(a[d]);return(0,_ds.U)(b)},uaa=function(a){var b="",c=_ds.RE(a.getTitle(),_ds.M(a,3),_ds.M(a,4));b+='<div class="significatio-card"><h3 class="significatio-card-heading no-link"><a href="'+_ds.Y(_ds.JE(a.getUrl()+"?"+_ds.M(a,8)))+'" data-category="Site-Wide Custom Events" data-label="devsite-recommendation card link" data-action="click" track-type="recommendations" track-name="cardClick" track-metadata-eventdetail="'+_ds.Y(a.getUrl())+
'">'+_ds.gE(c.filter(function(f){return 0<_ds.hE(f).length})[0])+'</a></h3><p class="significatio-card-description">'+_ds.gE(_ds.mE(_ds.M(a,5)))+'</p><div class="significatio-card-meta">Updated <span class="significatio-date" date="'+_ds.Y(_ds.Te(_ds.Ge(a,_ds.GD,7),1))+'"></span>';if(0!=_ds.hE(_ds.He(a,_ds.aK,11)).length){b=b+'<span class="significatio-recommend-popout-container"><button type="button" class="significatio-popout-toggle button-flat significatio-attr-toggle" aria-haspopup="true" aria-controls="significatio-popout" aria-label="'+
_ds.qE("Why is this recommended?");b=b+'" data-title="'+_ds.qE("Why is this recommended?");b+='"><i class="material-icons significatio-attr-info">help_outline</i></button><div class="significatio-popout significatio-attr" aria-labelledby="significatio-popout-toggle" hidden><h4 class="significatio-popout-heading">Why is this recommended?</h4><p>Because you viewed ';a=_ds.He(a,_ds.aK,11);c=a.length;for(var d=0;d<c;d++){var e=a[d];b+=' <a href="'+_ds.Y(_ds.JE(e.getUrl()))+'" class="significatio-popout-interactive" track-type="recommendations" track-name="attributionLink">'+
_ds.gE(e.getTitle())+"</a>"}b+=".</p></div></span>"}return(0,_ds.U)(b+"</div></div>")},waa=function(a){var b=a.Bt;a='<div class="significatio-card error">'+(0,_ds.U)('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="significatio-error-icon"><path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/></svg>')+'<p class="significatio-card-description">';a+='No recommendations at this time.</p><p class="significatio-card-description">';
b='Try <a href="#" class="'+(_ds.Y(b)+'">signing in</a> to your Google account.');return(0,_ds.U)(a+b+"</p></div>")},W6=function(a){var b=_ds.Yh.call(this)||this;b.timeZone=a;b.eventHandler=new _ds.Sl(b);b.M=!0;b.L=!1;b.oa=!1;b.N=!1;b.X=!1;b.K=[];b.J=[];b.h=null;b.v=null;b.display="";b.H=new Map;b.V=[];b.ag=null;b.C=null;b.G="";b.D="";b.m=new _ds.Zl;b.loaded=b.m.promise;b.ea=new _ds.Zl;b.Sa=b.ea.promise;b.W=new _ds.Zl;b.ya=b.W.promise;return b},X6=function(a,b){var c=b.querySelector(".significatio-popout-toggle"),
d=b.querySelector(".significatio-popout");c&&d&&(a.V.push(d),a.eventHandler.listen(d,"focusout",function(e){e.relatedTarget&&(_ds.Gj(e.relatedTarget,"significatio-popout",6)||a.wc(d))}),a.eventHandler.listen(c,"click",function(){a.H.get(d)||(d.hasAttribute("active")?a.wc(d):a.He(d))}))},Y6=function(a){return!a.M&&document.querySelector("devsite-recommendations:not([yield])")?!1:!0},xaa=function(a){a.eventHandler.listen(document,"devsite-on-recommendations",function(b){Y6(a)?a.X||(b=b.ma)&&(null===
b||void 0===b?0:b.detail)&&(b=b.detail,5===_ds.qe(b,5,0)?(a.v=b,a.X=!0,a.removeAttribute("hidden"),a.render()):a.m.resolve()):a.m.resolve()})},yaa=function(a){return _ds.P(a,function c(){var d,e,f=this;return _ds.G(c,function(k){if(1==k.j)return _ds.y(k,DevsiteApp.whenReady(),2);if(3!=k.j)return _ds.y(k,DevsiteApp.getTenantId(),3);d=k.h||0;e=window.location.pathname;return k.return(qaa(paa(oaa(_ds.lL(d,e),Z6(f.K.map(function(l){return l.href}),d)),Z6(f.J.map(function(l){return l.href}),d)),Number(f.getAttribute("generated"))||
0))})})},zaa=function(a){return _ds.P(a,function c(){var d=this,e,f;return _ds.G(c,function(k){switch(k.j){case 1:return d.setAttribute("loading",""),_ds.y(k,DevsiteApp.whenReady(),2);case 2:return d.h&&_ds.aj(d.h),_ds.y(k,yaa(d),3);case 3:return e=k.h,f=null,_ds.A(k,4),_ds.y(k,raa(e),6);case 6:f=k.h;_ds.E(k,5);break;case 4:return _ds.F(k),_ds.y(k,$6(d,!0,!1,"error fetching recommendations"),7);case 7:return k.return();case 5:return d.v=f,_ds.y(k,a7(d,f),0)}})})},a7=function(a,b){var c,d;return _ds.P(a,
function f(){var k,l=this,m,n,p,r,t,u,v,x;return _ds.G(f,function(B){switch(B.j){case 1:k=[2,5,3];if(!l.N&&k.some(function(D){return(null===b||void 0===b?void 0:_ds.qe(b,5,0))===D})&&((null===b||void 0===b?0:_ds.gL(b).length)&&l.dispatchEvent(new CustomEvent("devsite-on-recommendations",{detail:b,bubbles:!0})),3!==(null===b||void 0===b?void 0:_ds.qe(b,5,0)))||l.display&&Aaa[l.display]!==(null===b||void 0===b?void 0:_ds.qe(b,5,0)))return b7(l),B.return();m=l.querySelector(".significatio-overview");
n=null===b||void 0===b?void 0:_ds.M(b,6);l.G=(null===b||void 0===b?void 0:_ds.M(b,7))||"";l.D=(null===b||void 0===b?void 0:_ds.M(b,8))||"";p=1===(null===b||void 0===b?void 0:_ds.qe(b,9,0));if(m&&n){_ds.$E(m,saa,{Kk:n,Xq:l.G,pk:l.D,jq:p});B.F(2);break}return _ds.y(B,$6(l,!0,!0,"no title"),2);case 2:if(null===b||void 0===b?0:_ds.gL(b).length){_ds.$E(l.h,vaa,{bb:_ds.gL(b)});Baa(l);B.F(4);break}return _ds.y(B,$6(l,!1),5);case 5:return B.return();case 4:(null===b||void 0===b?0:_ds.He(b,_ds.hL,2).length)&&
Caa(_ds.He(b,_ds.hL,2));l.C=l.querySelector("#significatio-stats-button");(null===b||void 0===b?0:_ds.M(b,4))?(null===(c=l.C)||void 0===c?void 0:c.removeAttribute("hidden"),l.ag=_ds.M(b,4)):null===(d=l.C)||void 0===d?void 0:d.setAttribute("hidden","");if(l.h)for(r=l.h.querySelectorAll(".significatio-recommend-popout-container"),t=_ds.q(r),u=t.next();!u.done;u=t.next())v=u.value,X6(l,v);(x=l.querySelector(".significatio-popout-container"))&&X6(l,x);Daa(l);c7(l);d7(l);l.removeAttribute("loading");l.m.resolve();
_ds.z(B)}})})},b7=function(a){var b;a.m.resolve();null===(b=a.parentNode)||void 0===b?void 0:b.removeChild(a)},Eaa=function(a){return _ds.P(a,function c(){return _ds.G(c,function(d){return _ds.y(d,DevsiteApp.signIn(),0)})})},Faa=function(a){return _ds.P(a,function c(){var d=this;return _ds.G(c,function(e){d.G&&_ds.yF(d.G,{target:"_blank"});_ds.z(e)})})},Gaa=function(a){return _ds.P(a,function c(){var d=this;return _ds.G(c,function(e){d.D&&_ds.yF(d.D,{target:"_blank"});_ds.z(e)})})},Daa=function(a){var b=
a.querySelector("#significatio-issue-button");b&&a.eventHandler.listen(b,"click",function(){return void Gaa(a)});(b=a.querySelector("#significatio-info-button"))&&a.eventHandler.listen(b,"click",function(){return void Faa(a)});a.C&&a.eventHandler.listen(a.C,"click",function(){a.ag&&_ds.yF(a.ag,{target:"_blank"})});a.eventHandler.listen(document,"click",function(c){for(var d=_ds.q(a.V),e=d.next();!e.done;e=d.next())e=e.value,!e.contains(c.target)&&e.hasAttribute("active")&&a.wc(e)})},c7=function(a){a.eventHandler.listen(a,
"click",function(b){return _ds.P(a,function d(){var e=this;return _ds.G(d,function(f){return _ds.Gj(b.target,"significatio-sign-in",2)?_ds.y(f,Eaa(e),0):f.F(0)})})})},$6=function(a,b,c,d){b=void 0===b?!0:b;c=void 0===c?!1:c;d=void 0===d?"":d;var e,f;return _ds.P(a,function l(){var m=this,n;return _ds.G(l,function(p){if(1==p.j)return b&&_ds.Tk(d),c&&(null===(e=m.parentNode)||void 0===e?void 0:e.removeChild(m)),m.m.resolve(),_ds.y(p,DevsiteApp.whenReady(),2);if(3!=p.j)return _ds.y(p,DevsiteApp.isSignedIn(),
3);(n=p.h)?null===(f=m.parentNode)||void 0===f?void 0:f.removeChild(m):(_ds.$E(m.h,waa,{Bt:"significatio-sign-in"}),d7(m),c7(m),m.removeAttribute("loading"));_ds.z(p)})})},d7=function(a){if(a.h){a=Array.from(a.h.querySelectorAll(".significatio-card:not([show])"));a=_ds.q(a);for(var b=a.next();!b.done;b=a.next())b.value.setAttribute("show","")}},Baa=function(a){if(a.h){var b=Array.from(a.h.querySelectorAll(".significatio-date"));b=_ds.q(b);for(var c=b.next();!c.done;c=b.next()){c=c.value;var d=c.getAttribute("date");
c.textContent=(new Date(1E3*Number(d))).toLocaleDateString("default",{month:"short",year:"numeric",day:"numeric",timeZone:a.timeZone})}}},Caa=function(a){a=_ds.q(a);for(var b=a.next();!b.done;b=a.next())b=b.value,document.body.dispatchEvent(new CustomEvent("devsite-analytics-set-dimension",{bubbles:!0,detail:{name:b.getName(),value:_ds.M(b,2),gaid:_ds.M(b,3)}}))},e7=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,e7.prototype)},
Z6=function(a,b){var c=[];a=_ds.q(a);for(var d=a.next();!d.done;d=a.next()){d=d.value;try{var e=c,f=e.push,k=b,l=new URL(d),m=_ds.yk();if(l.hostname!==m.hostname)throw new e7("Recommendations must be from the same site.");var n=l.pathname,p=new _ds.UJ;var r=_ds.Ze(p,1,n);var t=_ds.Ce(r,k.toString());f.call(e,t)}catch(u){if(u instanceof e7)console.warn("Link is off-site, not recommending.",d);else throw u;}}return c};var Aaa={"in-page":5};_ds.w(W6,_ds.Yh);_ds.g=W6.prototype;_ds.g.connectedCallback=function(){this.L=!0;this.K=[].concat(_ds.ta(this.querySelectorAll("a[href]")));this.J=[].concat(_ds.ta(this.querySelectorAll('link[rel="disallow"][href]')));this.display=this.getAttribute("display");this.getAttribute("display")?"in-page"===this.getAttribute("display")&&(xaa(this),this.W.resolve(),this.N=!0):this.render()};_ds.g.disconnectedCallback=function(){_ds.Yl(this.eventHandler);this.K=[];this.J=[]};
_ds.g.attributeChangedCallback=function(a,b,c){"yield"===a?this.M=null==c:"display"===a&&(this.display=c);this.render()};
_ds.g.render=function(){return _ds.P(this,function b(){var c=this;return _ds.G(b,function(d){switch(d.j){case 1:if(!c.L)return d.return();if(!Y6(c))return c.m.resolve(),d.return();_ds.$E(c,taa);c.h=c.querySelector(".significatio-recommendations");if(c.h){d.F(2);break}return _ds.y(d,$6(c,!0,!1,"no recommendations element"),3);case 3:return d.return();case 2:return c.v?_ds.y(d,a7(c,c.v),5):_ds.y(d,zaa(c),5);case 5:if(c.oa){d.F(0);break}_ds.A(d,9);return _ds.y(d,DevsiteApp.intersectionEnterForElement(c.h),
11);case 11:var e;if(null!=c.v){var f=_ds.q(null===(e=c.v)||void 0===e?void 0:_ds.gL(e));for(e=f.next();!e.done;e=f.next()){var k=e.value;if(e=_ds.mL(k))k={category:"Site-Wide Custom Events",action:"recommended",label:k.getUrl(),additionalParams:{recommendations:e}},c.dispatchEvent(new CustomEvent("devsite-analytics-observation",{detail:k,bubbles:!0})),e={eventData:JSON.stringify({type:"recommendations",name:"impression",metadata:e})},c.dispatchEvent(new CustomEvent("devsite-analytics-observation-cloudtrack",
{detail:e,bubbles:!0}))}c.ea.resolve();c.oa=!0}_ds.E(d,0);break;case 9:_ds.F(d),_ds.z(d)}})})};_ds.g.He=function(a){return _ds.P(this,function c(){var d;return _ds.G(c,function(e){if(1==e.j)return a.removeAttribute("hidden"),_ds.y(e,_ds.Rk(),2);a.setAttribute("active","");d=a.querySelector(".significatio-popout-interactive");null===d||void 0===d?void 0:d.focus();_ds.z(e)})})};
_ds.g.wc=function(a){return _ds.P(this,function c(){var d=this,e;return _ds.G(c,function(f){if(1==f.j){e=d;if(d.H.get(a)||!a)return f.return();d.H.set(a,!0);a.removeAttribute("active");return _ds.y(f,_ds.Rk(),2)}_ds.Wl(d.eventHandler,a,"transitionend",function(){a.setAttribute("hidden","");e.H.set(a,!1)});_ds.z(f)})})};_ds.ja.Object.defineProperties(W6,{observedAttributes:{configurable:!0,enumerable:!0,get:function(){return["yield","display"]}}});_ds.w(e7,Error);try{window.customElements.define("devsite-recommendations",W6)}catch(a){console.warn("Unrecognized DevSite custom element - DevsiteRecommendations",a)};})(_ds_www);
